---
layout: js
title: JavaScript中变量提升
menu: js
excerpt: Javascript中var定义变量时，跟其他一些主流脚本不一样，解析器会把这些变量提升到最开始
---
<div class="body">
	<div class="detail-title">{{ page.title }}</div>
	<div class="detail-time">{{ page.date | YYYY-MM-DD HH:MM:SS }}</div>
	<div class="detail-content">	
		<pre>
摘抄于<a href="http://javascript.ruanyifeng.com/grammar/basic.html" target="_blank" class="color3">http://javascript.ruanyifeng.com/grammar/basic.html</a>
		</pre>
    <pre>
JavaScript引擎的工作方式是，先解析代码，获取所有被声明的变量，然后再一行一行地运行。
这造成的结果，就是所有的变量的声明语句，都会被提升到代码的头部，这就叫做变量提升（hoisting）。

<span class="color5">console</span>.log(a);
<span class="color5">var</span> a = 1;

上面代码首先使用console.log方法，在控制台（console）显示变量a的值。这时变量a还没有声明和赋值，所以这是一种错误的做法，但是实际上不会报错。因为存在变量提升，真正运行的是下面的代码

<span class="color5">var</span> a;
<span class="color5">console</span>.log(a);
a = 1;

最后的结果是显示undefined，表示变量a已声明，但还未赋值。

请注意，变量提升只对var命令声明的变量有效，如果一个变量不是用var命令声明的，就不会发生变量提升。

<span class="color5">console</span>.log(b);
b = 1;

上面的语句将会报错，提示“<span class="color2">ReferenceError: b is not defined</span>”，即变量b未声明，这是因为b不是用var命令声明的，JavaScript引擎不会将其提升，而只是视为对顶层对象的b属性的赋值。
    </pre>
  
	<div class="item-status" style="text-align:right;margin-top: 20px;">
      <a href="#">
        <i class="icon-eye-open"></i> 阅读(0)
      </a>
      <a href="#">
        <i class="icon-pencil"></i> 评论(0) 
      </a>
      <a href="#">
        <i class="icon-thumbs-up"></i> 转载(0) 
      </a>
      <a href="#">
        <i class="icon-heart"></i> 收藏()
      </a>
    </div>
</div>